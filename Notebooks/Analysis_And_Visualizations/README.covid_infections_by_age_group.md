# **COVID Infections by Age Group**

In this notebook we are going to take age group data from a California (by county) demographics dataset and compare them with Covid case counts per month of those same age groups. Were any age groups impacted disproportionately given their percentage of cases and percentage of the population?

## Initialization
The notebook can be run from the current folder in Jupyter Notebooks lab.  The expectation is that there is a ../../Images/ folder for saving the graph images generated by the notebook.

The notebook expects to be able to connect to the following resource files:
../../Resources/Clean/ca_county_demographic_data-20210804.csv
../../Resources/Clean/ca_data_df.csv

DEMOGRAPHICS DATA MODIFICATIONS: Not all of the columns were immediately ready for use, as some columns only gave us percentages of age groups.  We had sufficient information to build quantity columns for each age group as well as for the total population by county.  This set has only 3 age groups.

# import the various modules needed
# Read demographics data into dataframe and drop last line containing NaN
# Fix the data types in demographics dataframe
# Get age related subset of columns needed for analysis
# Extrapolate population quantity totals in each county for age groups, save in age groups df
# Get sum population per age group and total population for California from demographics
# Calculate percent of total California population that each age group represents
## Give shorter friendlier names for specific columns
## Calculate and print population percentages for each age group for California


COVID CASES DATA: Pull in the cleaned dataset. Contains cases by row of each individual case reported in California by date, sex, age group, county, etc. Get columns required for analysis. Give each age group its own dataframe of data.

# Read in the monthly individual cases data from California into dataframe
# Create a subset of columns from the cases for our age_group analysis
# Group the cases by case_month then count the cases.  One df per age group, one df for totals
## Define Filters
## Group by case_month and then count cases.  Include one for grand total
# Calculate percent of total cases per month that each age group comprised
# Rename the "age_group" column for the affected dataframes after doing the pct math
# One frame for all case counts 3 groups
# One frame for all case counts 4 groups
## One dataframe with monthly percentage of the 3 age groups in demographics. Case month as index
## One dataframe with monthly percentage of the 4 age groups in cases frame. Case month as index
# Reorder the age groups sequentially so they plot sequentially in each graph

PLOTS: Plot monthly counts of cases per age group, percentage of cases vs percentage of population, stacked counts of cases per age group

# Identify location of output images
# Plot monthly percentage of total cases for 0-17
# Plot monthly percentage of total cases for 18-64
# Plot monthly percentage of total cases for 65 and up
# Plot stacked bar chart of cases by age group monthly (cases data + demographic data)
# Plot stacked bar chart of cases by age group monthly (cases data only, 4 age groups)
# Unstacked bar chart showing percentage cases by 3 age groups per month
# Unstacked bar chart showing percentage cases by 4 age groups per month
